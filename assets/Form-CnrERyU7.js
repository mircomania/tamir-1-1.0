import{r as u,b as O,j as e,F as w,f as B}from"./index-3JEKO443.js";const J="/tamir-1-1.0/assets/img-section-4.1-lp-BH--p_f2.webp",K="/tamir-1-1.0/assets/img-section-4.2-lp-Cl3eaHbd.webp",Q="/tamir-1-1.0/assets/img-section-4.3-lp-BeCTkGiK.webp",W="/tamir-1-1.0/assets/img-section-4.4-lp-Dt4G4BX4.webp",q="_form_1i71u_1",D="_camposObligatorios_1i71u_9",$="_campoPrecalificarForm_1i71u_21",G="_formControl_1i71u_55",H="_campoCheckboxForm_1i71u_97",R="_checkBox_1i71u_115",V="_labelError_1i71u_123",z="_contentEnvio_1i71u_131",A="_mensajeErrorGeneral_1i71u_145",I="_camposSelect_1i71u_171",o={form:q,camposObligatorios:D,campoPrecalificarForm:$,formControl:G,campoCheckboxForm:H,checkBox:R,labelError:V,contentEnvio:z,mensajeErrorGeneral:A,camposSelect:I},L=r=>{const[a,c]=u.useState(r),[t,m]=u.useState({}),[p,d]=u.useState(!1),i=O(),x=["Tipo de Sesión","Newborn","Niños","Embarazo","Familia"],j=["Tipo de Plan","Básico","Full","Premium"],v=s=>{const{name:l,type:b,checked:y,value:P}=s.target,f=b==="checkbox"?y:P;if(l==="telefono"){const n=f.replace(/\D/g,""),h=n.startsWith("56")?"+"+n:"+56"+n;c(T=>({...T,telefono:h}))}else c(n=>({...n,[l]:f}));m(n=>Object.fromEntries(Object.entries(n).filter(([h])=>h!==l)))},g=()=>{const s={};return N(s),C(s),F(s),_(s),E(s),m(s),Object.keys(s).length===0},N=s=>{a.nombre.trim()||(s.nombre=!0)},C=s=>{a.telefono.match(/^\+56\d{10}$/)||(s.telefono=!0)},F=s=>{const l=/^[^\s@]+@[^\s@]+\.[^\s@]+$/;(!a.email.trim()||!l.test(a.email))&&(s.email=!0)},_=s=>{(!a.sesion.trim()||a.sesion==="Tipo de Sesión")&&(s.sesion=!0)},E=s=>{a.politicas||(s.politicas=!0)},k=async s=>{if(s.preventDefault(),!!g()){d(!0);try{const l={nombre:a.nombre,telefono:a.telefono,email:a.email,sesion:a.sesion,plan:a.plan,mensaje:a.mensaje,novedades:a.novedades};(await fetch("http://localhost:5000/submit",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(l)})).ok?(i("/formulario-enviado"),S()):console.error("Error al enviar el formulario")}catch(l){console.error("Error de red:",l)}finally{d(!1)}}},S=()=>{c(r),m({})};return{formData:a,errors:t,loading:p,handleChange:v,handleSubmit:k,sesiones:x,planes:j}},X=()=>{const{formData:r,errors:a,loading:c,handleChange:t,handleSubmit:m,sesiones:p,planes:d}=L({nombre:"",telefono:"+56",email:"",sesion:"",plan:"",mensaje:"",novedades:!1,politicas:!1});return e.jsxs("form",{onSubmit:m,className:o.form,noValidate:!0,children:[e.jsx("div",{className:o.camposObligatorios,children:e.jsx("p",{className:"light-text-montserrat",children:"(*) Campos obligatorios"})}),e.jsxs("div",{className:o.campoPrecalificarForm,children:[e.jsx("label",{htmlFor:"nombre",className:`light-text-montserrat ${a.nombre?o.labelError:""}`,"aria-label":"Nombre del usuario",children:"*Nombre Completo:"}),e.jsx("input",{type:"text",className:o.formControl,id:"nombre",name:"nombre",value:r.nombre,onChange:t,required:!0,"aria-invalid":!!a.nombre})]}),e.jsxs("div",{className:o.campoPrecalificarForm,children:[e.jsx("label",{htmlFor:"telefono",className:`light-text-montserrat ${a.telefono?o.labelError:""}`,"aria-label":"Telefono del usuario",children:"*Teléfono:"}),e.jsx("input",{type:"tel",className:o.formControl,id:"telefono",name:"telefono",value:r.telefono,onChange:t,autoComplete:"tel-national",required:!0,"aria-invalid":!!a.telefono,maxLength:"13"})]}),e.jsxs("div",{className:o.campoPrecalificarForm,children:[e.jsx("label",{htmlFor:"email",className:`light-text-montserrat ${a.email?o.labelError:""}`,"aria-label":"email del usuario",children:"*Correo Electrónico :"}),e.jsx("input",{type:"email",className:o.formControl,id:"email",name:"email",value:r.email,onChange:t,autoComplete:"email",required:!0,"aria-invalid":!!a.email})]}),e.jsxs("div",{className:o.camposSelect,children:[e.jsxs("div",{className:o.campoPrecalificarForm,children:[e.jsx("label",{htmlFor:"sesion",className:`light-text-montserrat ${a.sesion?o.labelError:""}`,"aria-label":"Tipo de sesión de fotos que quiere el usuario",children:"*Tipo de sesión:"}),e.jsx("select",{className:o.formControl,id:"sesion",name:"sesion",value:r.sesion,onChange:t,required:!0,"aria-invalid":!!a.sesion,children:p.map(i=>e.jsx("option",{value:i,children:i},i))})]}),e.jsxs("div",{className:o.campoPrecalificarForm,children:[e.jsx("label",{htmlFor:"plan",className:"light-text-montserrat","aria-label":"Tipo de plan de sesión de fotos",children:"Tipo de plan:"}),e.jsx("select",{className:o.formControl,id:"plan",name:"plan",value:r.plan,onChange:t,children:d.map(i=>e.jsx("option",{value:i,children:i},i))})]})]}),e.jsxs("div",{className:o.campoPrecalificarForm,children:[e.jsx("label",{htmlFor:"mensaje",className:"light-text-montserrat","aria-label":"Déjanos un mensaje",children:"¿Que tienes en mente? (opcional):"}),e.jsx("textarea",{className:o.formControl,name:"mensaje",id:"mensaje",value:r.mensaje,onChange:t,rows:"5"})]}),e.jsxs("div",{className:o.campoCheckboxForm,children:[e.jsx("input",{type:"checkbox",className:o.checkBox,name:"novedades",id:"novedades",checked:r.novedades,onChange:t}),e.jsx("label",{htmlFor:"novedades",className:"light-text-montserrat","aria-label":"Marca si quieres recibir novedades y promociones",children:"Recibir novedades y promociones"})]}),e.jsxs("div",{className:o.campoCheckboxForm,children:[e.jsx("input",{type:"checkbox",className:o.checkBox,name:"politicas",id:"politicas",checked:r.politicas,onChange:t,required:!0,"aria-invalid":!!a.politicas}),e.jsxs("label",{htmlFor:"politicas",className:`light-text-montserrat ${a.politicas?o.labelError:""}`,"aria-label":"Marca para aceptar las políticas de privacidad",children:["He leído y acepto la"," ",e.jsx("a",{href:"/politica-privacidad",target:"_blank",rel:"noopener noreferrer",children:"Política de Privacidad"})]})]}),e.jsx("div",{className:o.contentEnvio,children:e.jsx("button",{type:"submit",className:"boton-1 bold-text-montserrat",title:"Haz clic para enviarnos tus datos",disabled:c,children:c?e.jsx(w,{icon:B,spin:!0}):"ENVIAR"})}),Object.keys(a).length>0&&e.jsx("div",{className:o.mensajeErrorGeneral,children:e.jsx("p",{className:"bold-text-montserrat",children:"Por favor completa el formulario"})})]})};export{X as F,Q as a,K as b,J as c,W as i};
